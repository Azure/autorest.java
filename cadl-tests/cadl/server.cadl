import "@cadl-lang/rest";

using Cadl.Http;

@service({
  title: "Server",
  version: "1.0.0",
})
@server(
  "https://{domain}.{tld}/{ApiVersion}",
  "Httpbin endpoint",
  {
    @doc("second-level domain, use httpbin")
    domain?: string = "httpbin",

    @doc("top-level domain, use org")
    tld?: string = "org",

    @doc("Api Version")
    @path
    ApiVersion: APIVersions,
  }
)
namespace Cadl.Server;

enum APIVersions {
  v1_0: "v1.0",
}

@route("/status/{code}")
interface ServerOp {
  status(@path code: int32): OkResponse | NoContentResponse;
}
