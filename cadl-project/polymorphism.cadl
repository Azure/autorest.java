import "@cadl-lang/rest";
import "./decorators.js";

using Cadl.Http;
using Cadl.Rest;

@discriminator("kind")
model Pet {
  name: string;
  weight?: float32;
}
model Cat extends Pet {
  kind: "cat";
  meow: int32;
}
model Dog extends Pet {
  kind: "dog";
  bark: string;
  type: Type;
}
enum Type {
  typ1;
  typ2;
}

@route("/Pets")
namespace root {
  @convenienceMethod
  op read(): {
    @body body: Pet;
  };
}
