// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package fixtures.bodycomplex.generated;

import com.azure.core.util.BinaryData;
import fixtures.bodycomplex.models.Fish;
import fixtures.bodycomplex.models.Sawshark;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

public final class SawsharkTests {
    @Test
    public void testDeserialize() throws Exception {
        Sawshark model =
                BinaryData.fromString(
                                "{\"fishtype\":\"sawshark\",\"age\":422670277,\"birthday\":\"2021-06-30T08:44:34Z\",\"species\":\"jdkwtnhxbnjb\",\"length\":57.91524,\"siblings\":[{\"fishtype\":\"Fish\",\"species\":\"gls\",\"length\":81.586426,\"siblings\":[]},{\"fishtype\":\"Fish\",\"species\":\"p\",\"length\":77.7406,\"siblings\":[]},{\"fishtype\":\"Fish\",\"species\":\"ljfmppee\",\"length\":43.36704,\"siblings\":[]},{\"fishtype\":\"Fish\",\"species\":\"sabkyqduujitcjcz\",\"length\":99.2908,\"siblings\":[]}]}")
                        .toObject(Sawshark.class);
        Assertions.assertEquals("jdkwtnhxbnjb", model.getSpecies());
        Assertions.assertEquals(57.91524f, model.getLength());
        Assertions.assertEquals("gls", model.getSiblings().get(0).getSpecies());
        Assertions.assertEquals(81.586426f, model.getSiblings().get(0).getLength());
        Assertions.assertEquals(422670277, model.getAge());
        Assertions.assertEquals(OffsetDateTime.parse("2021-06-30T08:44:34Z"), model.getBirthday());
    }

    @Test
    public void testSerialize() throws Exception {
        Sawshark model =
                new Sawshark(57.91524f, OffsetDateTime.parse("2021-06-30T08:44:34Z"))
                        .setSpecies("jdkwtnhxbnjb")
                        .setSiblings(
                                Arrays.asList(
                                        new Fish(81.586426f).setSpecies("gls").setSiblings(Arrays.asList()),
                                        new Fish(77.7406f).setSpecies("p").setSiblings(Arrays.asList()),
                                        new Fish(43.36704f).setSpecies("ljfmppee").setSiblings(Arrays.asList()),
                                        new Fish(99.2908f).setSpecies("sabkyqduujitcjcz").setSiblings(Arrays.asList())))
                        .setAge(422670277);
        model = BinaryData.fromObject(model).toObject(Sawshark.class);
        Assertions.assertEquals("jdkwtnhxbnjb", model.getSpecies());
        Assertions.assertEquals(57.91524f, model.getLength());
        Assertions.assertEquals("gls", model.getSiblings().get(0).getSpecies());
        Assertions.assertEquals(81.586426f, model.getSiblings().get(0).getLength());
        Assertions.assertEquals(422670277, model.getAge());
        Assertions.assertEquals(OffsetDateTime.parse("2021-06-30T08:44:34Z"), model.getBirthday());
    }
}
