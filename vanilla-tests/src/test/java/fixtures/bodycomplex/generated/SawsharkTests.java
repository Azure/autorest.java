// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package fixtures.bodycomplex.generated;

import com.azure.core.util.BinaryData;
import fixtures.bodycomplex.models.Fish;
import fixtures.bodycomplex.models.Sawshark;
import java.time.OffsetDateTime;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

public final class SawsharkTests {
    @Test
    public void testDeserialize() {
        Sawshark model =
                BinaryData.fromString(
                                "{\"fishtype\":\"sawshark\",\"age\":1317068560,\"birthday\":\"2021-02-25T06:04:33Z\",\"species\":\"e\",\"length\":90.10362,\"siblings\":[{\"fishtype\":\"Fish\",\"species\":\"b\",\"length\":0.13743639,\"siblings\":[]},{\"fishtype\":\"Fish\",\"species\":\"mjqulngsn\",\"length\":75.88975,\"siblings\":[]}]}")
                        .toObject(Sawshark.class);
        Assertions.assertEquals("e", model.getSpecies());
        Assertions.assertEquals(90.10362f, model.getLength());
        Assertions.assertEquals("b", model.getSiblings().get(0).getSpecies());
        Assertions.assertEquals(0.13743639f, model.getSiblings().get(0).getLength());
        Assertions.assertEquals(1317068560, model.getAge());
        Assertions.assertEquals(OffsetDateTime.parse("2021-02-25T06:04:33Z"), model.getBirthday());
    }

    @Test
    public void testSerialize() {
        Sawshark model =
                new Sawshark(90.10362f, OffsetDateTime.parse("2021-02-25T06:04:33Z"))
                        .setSpecies("e")
                        .setSiblings(
                                Arrays.asList(
                                        new Fish(0.13743639f).setSpecies("b").setSiblings(Arrays.asList()),
                                        new Fish(75.88975f).setSpecies("mjqulngsn").setSiblings(Arrays.asList())))
                        .setAge(1317068560);
        model = BinaryData.fromObject(model).toObject(Sawshark.class);
        Assertions.assertEquals("e", model.getSpecies());
        Assertions.assertEquals(90.10362f, model.getLength());
        Assertions.assertEquals("b", model.getSiblings().get(0).getSpecies());
        Assertions.assertEquals(0.13743639f, model.getSiblings().get(0).getLength());
        Assertions.assertEquals(1317068560, model.getAge());
        Assertions.assertEquals(OffsetDateTime.parse("2021-02-25T06:04:33Z"), model.getBirthday());
    }
}
